# Database Configuration
# Docker exposes PostgreSQL on POSTGRES_PORT (default 5432, set to 5433 to avoid conflicts)
# Use localhost:${POSTGRES_PORT} when running app outside Docker (pnpm dev)
# Use postgres:5432 when running inside Docker (docker-compose up)
DATABASE_URL=postgresql://raptscallions:raptscallions@localhost:5433/raptscallions
POSTGRES_PORT=5433

# Redis Configuration
REDIS_URL=redis://localhost:6379

# ============================================
# STORAGE CONFIGURATION
# ============================================
# Choose ONE storage backend configuration below.
# For local development, use MinIO (default).
# For production, use AWS S3 or another cloud provider.

# --- Local Development: MinIO (Docker) ---
# MinIO provides S3-compatible storage for local development.
# Start with: docker compose up -d minio minio-init

# MinIO Docker container settings
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_BUCKET=raptscallions-files

# MinIO storage configuration (use this for local dev)
STORAGE_BACKEND=s3
STORAGE_S3_ENDPOINT=http://localhost:9000
STORAGE_S3_REGION=us-east-1
STORAGE_S3_BUCKET=raptscallions-files
STORAGE_S3_ACCESS_KEY_ID=minioadmin
STORAGE_S3_SECRET_ACCESS_KEY=minioadmin

# --- Production: AWS S3 ---
# Uncomment and configure for AWS S3 (remove MinIO settings above)
# STORAGE_BACKEND=s3
# STORAGE_S3_BUCKET=your-bucket-name
# STORAGE_S3_REGION=us-east-1
# STORAGE_S3_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# STORAGE_S3_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# --- Production: DigitalOcean Spaces ---
# Uncomment and configure for DigitalOcean Spaces
# STORAGE_BACKEND=s3
# STORAGE_S3_ENDPOINT=https://nyc3.digitaloceanspaces.com
# STORAGE_S3_BUCKET=your-space-name
# STORAGE_S3_REGION=nyc3
# STORAGE_S3_ACCESS_KEY_ID=your-spaces-access-key
# STORAGE_S3_SECRET_ACCESS_KEY=your-spaces-secret-key

# --- Production: Backblaze B2 ---
# Uncomment and configure for Backblaze B2
# STORAGE_BACKEND=s3
# STORAGE_S3_ENDPOINT=https://s3.us-west-004.backblazeb2.com
# STORAGE_S3_BUCKET=your-bucket-name
# STORAGE_S3_REGION=us-west-004
# STORAGE_S3_ACCESS_KEY_ID=your-b2-key-id
# STORAGE_S3_SECRET_ACCESS_KEY=your-b2-application-key

# --- Production: Cloudflare R2 ---
# Uncomment and configure for Cloudflare R2 (no egress fees!)
# STORAGE_BACKEND=s3
# STORAGE_S3_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
# STORAGE_S3_BUCKET=your-bucket-name
# STORAGE_S3_REGION=auto
# STORAGE_S3_ACCESS_KEY_ID=your-r2-access-key
# STORAGE_S3_SECRET_ACCESS_KEY=your-r2-secret-key

# Session Configuration
SESSION_SECRET=your-session-secret-at-least-32-characters-long

# OAuth Configuration (Optional)
# Google OAuth 2.0 - Get credentials at https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth 2.0 - Get credentials at https://portal.azure.com/
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# OAuth Redirect Base URL (must match provider configuration)
OAUTH_REDIRECT_BASE=http://localhost:3000

# AI Gateway Configuration (OpenRouter)
AI_GATEWAY_URL=https://openrouter.ai/api/v1
AI_API_KEY=sk-or-v1-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
AI_DEFAULT_MODEL=anthropic/claude-sonnet-4-20250514

# Optional: AI request settings
AI_REQUEST_TIMEOUT_MS=120000
AI_MAX_RETRIES=2

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# CORS Configuration
CORS_ORIGIN=http://localhost:5173

# Rate Limiting Configuration (Optional)
# Auth routes: Strict limit for login/register to prevent brute-force attacks
# API routes: General limit for authenticated API requests
RATE_LIMIT_API_MAX=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_TIME_WINDOW=1 minute

# OpenTelemetry (Optional)
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
