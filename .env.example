# Database Configuration
# Docker exposes PostgreSQL on POSTGRES_PORT (default 5432, set to 5433 to avoid conflicts)
# Use localhost:${POSTGRES_PORT} when running app outside Docker (pnpm dev)
# Use postgres:5432 when running inside Docker (docker-compose up)
DATABASE_URL=postgresql://raptscallions:raptscallions@localhost:5433/raptscallions
POSTGRES_PORT=5433

# Redis Configuration
REDIS_URL=redis://localhost:6379

# MinIO Configuration (Docker containers)
# These control the MinIO container directly
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_BUCKET=raptscallions-files

# Storage Configuration (Application)
# When running app outside Docker (pnpm dev), use localhost:${MINIO_API_PORT}
# When running inside Docker (docker compose up), the API container uses minio:9000 automatically
STORAGE_BACKEND=s3
STORAGE_S3_ENDPOINT=http://localhost:9000
STORAGE_S3_REGION=us-east-1
STORAGE_S3_BUCKET=raptscallions-files
STORAGE_S3_ACCESS_KEY_ID=minioadmin
STORAGE_S3_SECRET_ACCESS_KEY=minioadmin
STORAGE_S3_FORCE_PATH_STYLE=true

# Session Configuration
SESSION_SECRET=your-session-secret-at-least-32-characters-long

# OAuth Configuration (Optional)
# Google OAuth 2.0 - Get credentials at https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth 2.0 - Get credentials at https://portal.azure.com/
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# OAuth Redirect Base URL (must match provider configuration)
OAUTH_REDIRECT_BASE=http://localhost:3000

# AI Gateway Configuration (OpenRouter)
AI_GATEWAY_URL=https://openrouter.ai/api/v1
AI_API_KEY=sk-or-v1-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
AI_DEFAULT_MODEL=anthropic/claude-sonnet-4-20250514

# Optional: AI request settings
AI_REQUEST_TIMEOUT_MS=120000
AI_MAX_RETRIES=2

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# CORS Configuration
CORS_ORIGIN=http://localhost:5173

# Rate Limiting Configuration (Optional)
# Auth routes: Strict limit for login/register to prevent brute-force attacks
# API routes: General limit for authenticated API requests
RATE_LIMIT_API_MAX=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_TIME_WINDOW=1 minute

# OpenTelemetry (Optional)
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
