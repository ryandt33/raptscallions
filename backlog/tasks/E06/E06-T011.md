---
id: "E06-T011"
title: "Implement backlog citation system in KB"
status: "todo"
priority: "high"
epic: "E06"
depends_on: ["E06-T002"]
blocks: []
spec_file: "backlog/docs/specs/E06/E06-T011-spec.md"
labels: ["documentation", "kb-enhancement", "citations"]
---

# Implement Backlog Citation System in KB

## Description

Add academic-style numbered citation system to KB documentation that links directly to backlog task files, specs, and review documents. This makes task references clickable, searchable, and maintainable.

## Why This Matters

Currently, KB docs reference tasks with plain text (`**Implements:** E02-T008`), which:
- Isn't clickable (can't navigate to task files)
- Doesn't show up in VitePress search
- Creates inconsistent reference formats
- Makes verification of references difficult

Academic-style citations solve all these issues with a clean, standardized format:

```markdown
This pattern emerged during auth implementation[1] based on the spec[2].

## References

[1]: /backlog/completed/E02/E02-T008.md "E02-T008: Auth integration tests"
[2]: /backlog/docs/specs/E02/E02-T008-spec.md "E02-T008 Specification"
```

## What Success Looks Like

- Citations are clickable and navigate to backlog files
- VitePress search indexes citation content
- Consistent citation format across all KB pages
- Contributing guides document citation usage
- At least 3 example pages use new citation format

## Scope

**Included:**
- VitePress alias configuration for `/backlog` paths
- Documentation of citation format in contributing guides
- Update 3+ existing KB pages as examples
- Validation that citations work in dev and production builds

**Not Included:**
- Automated validation scripts (future enhancement)
- Batch migration of all existing pages
- CI integration to check broken citations

## Technical Approach

1. Add Vite alias to `.vitepress/config.ts`:
   ```typescript
   vite: {
     resolve: {
       alias: {
         "/backlog": path.resolve(__dirname, "../../../backlog"),
       },
     },
   }
   ```

2. Document citation format in `contributing/kb-page-design.md`

3. Update template in `contributing/documentation.md`

4. Migrate example pages:
   - `/auth/concepts/sessions.md`
   - `/testing/patterns/factories.md`
   - `/auth/troubleshooting/session-issues.md`

## Acceptance Criteria

### Configuration
- [ ] VitePress config includes `/backlog` alias
- [ ] Citations resolve in dev mode (`pnpm docs:dev`)
- [ ] Citations resolve in production build (`pnpm docs:build`)
- [ ] Hover text shows citation titles

### Documentation
- [ ] `kb-page-design.md` updated with citation section
- [ ] `documentation.md` templates include References section
- [ ] `contributing/index.md` mentions citation system
- [ ] All citation types documented (tasks, specs, reviews, epics)

### Examples
- [ ] At least 3 KB pages updated with new format
- [ ] Examples demonstrate inline citations
- [ ] Examples show References section format
- [ ] Examples cover different citation types

### Testing
- [ ] Manual testing checklist completed
- [ ] No broken links in build output
- [ ] VitePress search indexes citations
- [ ] No console errors in dev/production

### Code Quality
- [ ] TypeScript compilation succeeds
- [ ] Linting passes
- [ ] No VitePress build warnings

## Effort Estimate

**Total: 4-6 hours**

- Configuration: 30 min
- Documentation updates: 1-2 hours
- Example migrations: 1-2 hours
- Testing and validation: 30 min
- Cleanup and final review: 1 hour

## Implementation Notes

- Start with configuration and test immediately
- Update contributing guides before migrating examples
- Choose examples that showcase different citation types
- Don't batch-update all existing docs (opportunistic migration)

## References

**Specification:**
- [E06-T011-spec.md](../../docs/specs/E06/E06-T011-spec.md) - Full technical specification

**Related Tasks:**
- E06-T002: KB folder structure (completed)
- E06-T008: Cross-linking conventions (completed)
- E06-T012: Improvements tracking system (complementary)

**Epic:**
- [E06 Epic](../../tasks/E06/_epic.md) - Knowledge Base Infrastructure
