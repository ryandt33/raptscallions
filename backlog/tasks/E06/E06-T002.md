---
id: "E06-T002"
title: "KB folder structure and navigation"
status: "todo"
priority: "critical"
epic: "E06"
depends_on: ["E06-T001"]
blocks: ["E06-T005", "E06-T006", "E06-T007"]
---

# KB Folder Structure and Navigation

## Description

Establish the domain-first folder structure within `apps/docs/src/` and configure VitePress sidebar navigation to match. Create placeholder index files for each domain section.

## Why This Matters

A consistent, intuitive folder structure makes documentation discoverable. Developers should be able to navigate to relevant docs without guessing where things live. The sidebar navigation mirrors the folder structure, providing visual orientation.

## Acceptance Criteria

- [ ] AC1: Domain folders created in apps/docs/src/ (auth, database, api, ai, testing, contributing)
- [ ] AC2: Each domain has index.md with section overview template
- [ ] AC3: Sub-folder structure created (concepts/, patterns/, decisions/, troubleshooting/) per domain
- [ ] AC4: VitePress sidebar configuration reflects folder structure
- [ ] AC5: Navigation works correctly at all levels (domain, type, article)
- [ ] AC6: Breadcrumb navigation displays correct path
- [ ] AC7: KB homepage (apps/docs/src/index.md) links to all domains
- [ ] AC8: Empty sections gracefully indicate "Coming soon" or similar
- [ ] AC9: Folder structure documented in contributing section

## Constraints

- Sidebar should auto-generate from folder structure where possible
- Deep nesting should be avoided (max 3 levels: domain/type/article)
- Index files required for each folder to enable navigation
- Consistent naming convention (kebab-case for files/folders)

## Out of Scope

- Populating actual content (separate documentation tasks)
- Cross-linking implementation (E06-T008)
- Custom navigation components
- Breadcrumb customization

## Context

### Folder Structure

```
apps/docs/src/
├── index.md                     # KB homepage
├── auth/                        # Authentication domain
│   ├── index.md
│   ├── concepts/
│   │   └── .gitkeep
│   ├── patterns/
│   │   └── .gitkeep
│   ├── decisions/
│   │   └── .gitkeep
│   └── troubleshooting/
│       └── .gitkeep
├── database/                    # Database domain
│   ├── index.md
│   ├── concepts/
│   ├── patterns/
│   └── decisions/
├── api/                         # API domain
│   ├── index.md
│   ├── concepts/
│   ├── patterns/
│   └── decisions/
├── ai/                          # AI gateway domain
│   ├── index.md
│   ├── concepts/
│   ├── patterns/
│   └── decisions/
├── testing/                     # Testing domain
│   ├── index.md
│   ├── patterns/
│   └── troubleshooting/
└── contributing/                # How to contribute
    └── index.md
```

### Domain Mapping

| Domain | Codebase Area | Initially Documented |
|--------|---------------|---------------------|
| auth | packages/auth, auth middleware | Yes (E06-T005) |
| database | packages/db, Drizzle patterns | Yes (E06-T006) |
| api | apps/api, Fastify routes | Partial |
| ai | packages/ai, OpenRouter | Yes (E06-T007) |
| testing | Test patterns, Vitest | Yes (existing content) |
| contributing | How to contribute | Yes (E06-T008) |

### Domain Selection Rationale

- **Included:** Domains with completed implementations to document
- **Excluded for now:** frontend (apps/web not built), modules (not implemented), architecture (cross-cutting, add later)

Domains can be added as features are implemented.
