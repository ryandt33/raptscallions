---
id: "E03-T006"
title: "Tools service with YAML parsing"
status: "todo"
priority: "high"
labels: [backend, api]
assignee: ""
workflow_state: "DRAFT"
epic: "E03"
depends_on: ["E03-T002"]
blocks: []
breakpoint: false
assigned_agent: ""
created_at: "2026-01-12T00:00:00Z"
updated_at: "2026-01-12T00:00:00Z"
spec_file: ""
test_files: []
code_files: []
pr_url: ""
---

# E03-T006: Tools service with YAML parsing

## Description

Implement ToolsService with YAML parsing/validation, versioning logic, and REST routes for tool management.

## Acceptance Criteria

- [ ] AC1: ToolsService with CRUD and parseYAML method
- [ ] AC2: YAML parsing with js-yaml library
- [ ] AC3: Zod schema validation for parsed tool definition
- [ ] AC4: POST /tools - create tool from YAML (teacher+)
- [ ] AC5: GET /tools/:id - get latest version
- [ ] AC6: GET /tools/:id/versions/:version - get specific version
- [ ] AC7: PUT /tools/:id - create new version (owner)
- [ ] AC8: DELETE /tools/:id - delete tool (owner)
- [ ] AC9: GET /tools - list tools visible to user (group scoping)
- [ ] AC10: Validation errors return helpful YAML syntax messages

## Technical Notes

Use js-yaml for parsing, Zod for validation. Tool definition schema matches DESIGN_BRIEF examples.

## History

| Date | State | Agent | Notes |
| ---- | ----- | ----- | ----- |
| 2026-01-12 | DRAFT | pm | Task created |

## Reviews

### Plan Review
- **Reviewer:** architect
- **Date:**
- **Verdict:**
- **Notes:**

### Code Review
- **Reviewer:** reviewer
- **Date:**
- **Verdict:**
- **Notes:**

### QA Review
- **Reviewer:** qa
- **Date:**
- **Verdict:**
- **Notes:**
